#!/bin/bash
# –ù–∞–∑–≤–∞–Ω–∏–µ: pentest-profile.sh
# –û–ø–∏—Å–∞–Ω–∏–µ: –í–∫–ª—é—á–∞–µ—Ç —Ä–µ–∂–∏–º –ø–µ–Ω—Ç–µ—Å—Ç–∞: –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ–∫—Å–∏, –≤–∫–ª—é—á–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, –ª–æ–≥–≥–∏—Ä—É–µ—Ç

echo "üõ°Ô∏è  –ó–∞–ø—É—Å–∫ —Ä–µ–∂–∏–º–∞ –ø–µ–Ω—Ç–µ—Å—Ç–∞..."

# –ü—Ä–æ–≤–µ—Ä–∫–∞ sudo
if ! command -v nmap &> /dev/null; then
    echo "‚ùå –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã. –ó–∞–ø—É—Å—Ç–∏ —Å–Ω–∞—á–∞–ª–∞ install.sh"
    exit 1
fi

# –í–∫–ª—é—á–∞–µ–º Tor (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
if command -v tor &> /dev/null; then
    echo "üîÅ –ó–∞–ø—É—Å–∫–∞—é Tor..."
    sudo systemctl start tor || echo "‚ö†Ô∏è Tor –Ω–µ –∑–∞–ø—É—â–µ–Ω"
fi

# –ó–∞–ø—É—Å–∫–∞–µ–º Burp –≤ —Ñ–æ–Ω–µ (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
if command -v burp &> /dev/null; then
    echo "üåê –ó–∞–ø—É—Å–∫–∞—é Burp Suite..."
    nohup burp > /tmp/burp.log 2>&1 &
fi

# –í–∫–ª—é—á–∞–µ–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–µ—Ç–∏
echo "üì° –ó–∞–ø—É—Å–∫–∞—é —Å–µ—Ç–µ–≤–æ–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥..."
echo "   –ò—Å–ø–æ–ª—å–∑—É–π: sudo tcpdump -i any port 80 or port 443"

# –õ–æ–≥–≥–∏—Ä—É–µ–º —Å–µ—Å—Å–∏—é
LOGFILE="$HOME/pentest-session-$(date +%F_%H-%M).log"
script "$LOGFILE"
echo "‚úÖ –°–µ—Å—Å–∏—è –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤: $LOGFILE"

echo "üéØ –†–µ–∂–∏–º –ø–µ–Ω—Ç–µ—Å—Ç–∞ –∞–∫—Ç–∏–≤–µ–Ω. –£–¥–∞—á–∏!"